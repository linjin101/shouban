<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CentOS Terminal</title>
<style>
     #pl {
        display: flex; /* 启用Flexbox布局 */
     }
     #pl2 {
        display: flex; /* 启用Flexbox布局 */
     }
     #riqi {
        font-size: 14px;
        padding: 1px;
        margin: 1px;
    }
    #terminal {
        font-family: monospace;
        font-size: 1em;
        /* width: 600px; */
        width: 50%;
        height: 360px;
        border: 1px solid #000;
        overflow: scroll;
        padding: 1px;
        margin: 1px;
        background: #000;
        color: #fff;
    }
    #terminal2 {
        font-family: monospace;
        font-size: 1em;
        /* width: 600px; */
        width: 50%;
        height: 360px;
        border: 1px solid #000;
        overflow: scroll;
        padding: 1px;
        margin: 1px;
        background: #000;
        color: #fff;
    }
    #terminal3 {
        font-family: monospace;
        font-size: 1em;
        /* width: 600px; */
        width: 50%;
        height: 360px;
        border: 1px solid #000;
        overflow: scroll;
        padding: 1px;
        margin: 1px;
        background: #000;
        color: #fff;
    }

    #terminal4 {
        font-family: monospace;
        font-size: 1em;
        /* width: 600px; */
        width: 50%;
        height: 360px;
        border: 1px solid #000;
        overflow: scroll;
        padding: 1px;
        margin: 1px;
        background: #000;
        color: #fff;
    }
    #terminal5 {
        font-family: monospace;
        font-size: 1em;
        /* width: 600px; */
        width: 50%;
        height: 360px;
        border: 1px solid #000;
        overflow: scroll;
        padding: 1px;
        margin: 1px;
        background: #000;
        color: #fff;
    }
    #terminal6 {
        font-family: monospace;
        font-size: 1em;
        /* width: 600px; */
        width: 50%;
        height: 360px;
        border: 1px solid #000;
        overflow: scroll;
        padding: 1px;
        margin: 1px;
        background: #000;
        color: #fff;
    }
    
</style>
<script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/1.9.1/jquery.min.js"></script>
<script>
    $(document).ready(function(){
      $("#btn1").click(function(){
        alert("Text: " + $("#test").text());
      });
      $("#btn2").click(function(){
        alert("HTML: " + $("#test").html());
      });
    });
    </script>
<script> 
    function isWorkingHours() {  
        // 获取当前日期和时间  
        let now = new Date();  
    
        // 获取星期几（0代表周日，1代表周一，...，6代表周六）  
        let dayOfWeek = now.getDay();  
    
        // 检查是否是周一到周五  
        if (dayOfWeek < 1 || dayOfWeek > 5) {  
            return false;  
        }  
    
        // 获取当前小时和分钟  
        let hours = now.getHours();  
        let minutes = now.getMinutes();  
    
        // 将时间转换为分钟表示，以便进行比较  
        let currentTimeInMinutes = hours * 60 + minutes;  
    
        // 定义工作时间段的开始和结束（分钟表示）  
        let startTimeInMinutes = 9 * 60 + 15; // 9点15分  
        let endTimeInMinutes = 15 * 60; // 下午3点（即15点）  
    
        // 检查当前时间是否在工作时间段内  
        return currentTimeInMinutes >= startTimeInMinutes && currentTimeInMinutes <= endTimeInMinutes;  
    }  
    // iclear = 0;
    // 模拟命令行输出
    function simulateCommand(terminal,command) {
        var terminal = document.getElementById(terminal);
        // if ( iclear % 6 == 0){
        // terminal.innerHTML = '';
        // }
        terminal.innerHTML = '$ ' + command + '<br><br>';
        // $('#'+terminal).html('$ ' + command + '<br>');
        // 这里可以添加逻辑来执行命令并获取输出
        // terminal.innerHTML += '<br>输出: 模拟命令执行结果<br>';
    }

    // if ( isWorkingHours() ){
    // 模拟用户输入命令
    setInterval(function(){
        var date = new Date();
        $.ajax({
                url: 'http://{{userconfig.ipconfig}}/getData', // 接口URL
                type: 'GET', // 请求类型，可以是GET、POST等
                dataType: 'json', // 预期服务器返回的数据类型
                success: function(response) {
                    // simulateCommandClear();
                    // simulateCommand('cmd..........'+new Date()+response);
                    simulateCommand('terminal',date.toLocaleString('zh-CN', {timeZone:'Asia/Shanghai'})+'\r\n<br>'+response[1]);
                    simulateCommand('terminal2', date.toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' }) + '\r\n<br>' + response[2]);
                    simulateCommand('terminal3', date.toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' }) + '\r\n<br>' + response[3]);

                    simulateCommand('terminal4', date.toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' }) + '\r\n<br>' + response[4]);
                    simulateCommand('terminal5', date.toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' }) + '\r\n<br>' + response[5]);
                    simulateCommand('terminal6', date.toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' }) + '\r\n<br>' + response[6]);
                },
                error: function(xhr, status, error) {
                    // 请求失败后的回调函数
                    console.error('数据获取失败:', error);
                }
            });
        },333
    );
    // }
    // simulateCommand('{{ cmdlist }}');
</script>
</head>
<body>
<!-- 
<p id="test">这是段落中的 <b>粗体</b> 文本。</p>
<button id="btn1">显示文本</button>
<button id="btn2">显示 HTML</button>
 -->
<p id="riqi">
    股指期货剩:<b><font color="#FF0000">{{days_to_futures}}</font></b>
    股票期权剩:<b><font color="#FF0000">{{days_to_options}}</font></b>
</p>

<div id="pl">
<div id="terminal"></div>
 
<div id="terminal2"></div>

<div id="terminal3"></div>
</div>

<div id="pl2">
<div id="terminal4"></div>

<div id="terminal5"></div>

<div id="terminal6"></div>
</div>

</body>
</html>